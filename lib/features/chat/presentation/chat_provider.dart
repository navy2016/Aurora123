import 'dart:async';
import 'package:flutter/foundation.dart';
import 'dart:convert';
import 'dart:io';
import 'package:dio/dio.dart';
import 'package:flutter/services.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

import 'package:aurora/shared/utils/platform_utils.dart';
import 'package:aurora/features/assistant/data/assistant_memory_service.dart';
import 'package:aurora/features/assistant/domain/assistant.dart';
import 'package:aurora/features/assistant/presentation/assistant_provider.dart';
import 'package:aurora/features/settings/presentation/settings_provider.dart';
import 'package:aurora/features/settings/presentation/usage_stats_provider.dart';
import 'package:aurora/features/chat/data/chat_storage.dart';
import 'package:aurora/features/chat/data/session_entity.dart';
import 'package:aurora/features/chat/presentation/topic_provider.dart';
import 'package:aurora/features/skills/presentation/skill_provider.dart';
import 'package:aurora/features/skills/domain/skill_entity.dart';
import 'package:aurora/features/chat/domain/message.dart';
import 'package:aurora/shared/services/openai_llm_service.dart';
import 'package:aurora/shared/services/llm_service.dart';
import 'package:aurora/shared/services/tool_manager.dart';
import 'package:aurora/shared/services/worker_service.dart';
import 'package:aurora/features/knowledge/presentation/knowledge_provider.dart';
import 'package:aurora/features/knowledge/domain/knowledge_models.dart';
import 'package:fluent_ui/fluent_ui.dart'
    hide Colors, Padding, StateSetter, ListBody;
import 'package:uuid/uuid.dart';
import 'package:aurora/core/error/app_error_type.dart';
import 'package:aurora/core/error/app_exception.dart';

part 'chat_state.dart';
part 'chat_notifier.dart';
part 'chat_request_context_builder.dart';
part 'chat_action_executor.dart';
part 'chat_generation_orchestrator.dart';
part 'chat_persistence.dart';
part 'sessions_notifier.dart';
part 'chat_session_manager.dart';
part 'chat_providers.dart';
